<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y1BS164MXE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Y1BS164MXE');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results - Gen-AI Readiness Assessment</title>

    <!-- Meta Tags -->
    <meta name="description" content="Results page for Gen-AI Readiness Assessment">
    <link rel="icon" href="./assets/logo_1@10x-8.ico" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container-fluid">
    <div id="results-section">
        <div class="results-box container-fluid">
            <div class="results-hero">
                <div class="results-hero-top">
                    <!-- Category name will be dynamically inserted here -->
                    <div class="category-and-img">
                        <h2 class="percentage"></h2>
                        <!-- Category image source will be dynamically updated here -->
                        <img class="category-image" src="" alt="category-image">
                    </div>
                </div>
            </div>
            <div class="results-hero-bottom">
                <div class="progress-bar-wrap" style="width: 10%;">
                    <p>Pioneers - 10%</p>
                    <div class="bar" style="background-color: #12B76ACC;"></div>
                </div>
                <div class="progress-bar-wrap" style="width: 12%;">
                    <p>Leaders - 12%</p>
                    <div class="bar" style="background-color: #0BA5ECCC;"></div>
                </div>
                <div class="progress-bar-wrap" style="width: 23%;">
                    <p>Contenders - 33%</p>
                    <div class="bar" style="background-color: #F63D68CC;"></div>
                </div>
                <div class="progress-bar-wrap" style="width: 15%;">
                    <p>Chasers - 15%</p>
                    <div class="bar" style="background-color: #7A5AF8CC;"></div>
                </div>
                <div class="progress-bar-wrap" style="width: 16%;">
                    <p>Followers - 16%</p>
                    <div class="bar" style="background-color: #FB6514CC;"></div>
                </div>
                <div class="progress-bar-wrap" style="width: 14%;">
                    <p>Laggards - 14%</p>
                    <div class="bar" style="background-color: #4E5BA6CC;"></div>
                </div>
            </div>
        </div>
    
        <div class="results-box results-content">
            <!-- More dynamic content -->
        </div>

        <div class="results-box">
            <h3 class="title">Resources</h3>
            <h4 class="subheading">Learn the Basics</h4>
            <ul>
                <li>Introduction to <a href="https://www.lyzr.ai/blog/what-is-an-ai-agent/" target="_blank" rel="noopener noreferrer">AI Agents</a></li>
                <li>Understanding the <a href="https://www.lyzr.ai/blog/lagmo-the-large-agent-model-by-lyzr/" target="_blank" rel="noopener noreferrer">AI Infrastructure Stack</a></li>
            </ul>
            <h4 class="subheading">How Are AI Agents Deployed?</h4>
            <p class="side-text">1. Ready-to-Use Solutions</p>
            <ul>
                <li>AI Sales Agent <a href="https://www.lyzr.ai/jazon/" target="_blank" rel="noopener noreferrer">(Jazon)</a></li>
                <li>AI Marketer <a href="https://www.lyzr.ai/skott/" target="_blank" rel="noopener noreferrer">(Skott)</a></li>
                <li>Industry-Specific <a href="https://www.lyzr.ai/industries/" target="_blank" rel="noopener noreferrer">Solutions</a></li>
                <li>AI-Powered <a href="https://www.lyzr.ai/chat-agent/" target="_blank" rel="noopener noreferrer">Chatbots</a></li>
                <li>Explore 100+ <a href="https://www.lyzr.ai/template/100-ai-use-cases/" target="_blank" rel="noopener noreferrer">AI Use Cases</a></li>
            </ul>
            <p class="side-text">2. Custom Solutions</p>
            <ul>
                <li>Build your own Agent in less than 5 min on <a href="https://agent.lyzr.ai/" target="_blank" rel="noopener noreferrer">Agent Studio</a></li>
                <li>Build custom <a href="https://www.lyzr.ai/template/top-50-workflow-automation-ideas-for-competitor-ideas/" target="_blank" rel="noopener noreferrer">Workflow Automation</a></li>
            </ul>
            <h4 class="subheading">Want to Get Started?</h4>
            <ul>
                <li>Explore <a href="https://docs.lyzr.ai/introduction" target="_blank" rel="noopener noreferrer">Documentation</a></li>
            </ul>
        </div>        
        <div class="results-box">
            <h3 class="title">
                Get a detailed guide: 
            </h3>
            <!--<img class="img-container preview-image" src="./assets/preview.png" alt="">--> 
            <div class="book-wrapper">
                <div id="hubspot-form-container"></div>
            </div>            
        </div>
    </div>

</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
    const resultsData = JSON.parse(sessionStorage.getItem('resultsData'));

    if (!resultsData) {
        alert('No results data found! Redirecting to the home page.');
        window.location.href = './index.html'; // Redirect if no results data
        return;
    }

    const { totalScore, categoryScores } = resultsData;

    // Determine category based on total score
    let categoryKey;
    if (totalScore >= 95) categoryKey = "pioneers";
    else if (totalScore >= 80) categoryKey = "leaders";
    else if (totalScore >= 65) categoryKey = "contenders";
    else if (totalScore >= 50) categoryKey = "chasers";
    else if (totalScore >= 35) categoryKey = "followers";
    else categoryKey = "laggards";

    // Category Data
    const categoryData = {
        "pioneers": { label: "Pioneers", color: "#12B76ACC", imageSrc: "./assets/pioneers.svg" },
        "leaders": { label: "Leaders", color: "#0BA5ECCC", imageSrc: "./assets/leaders.svg" },
        "contenders": { label: "Contenders", color: "#F63D68CC", imageSrc: "./assets/contenders.svg" },
        "chasers": { label: "Chasers", color: "#7A5AF8CC", imageSrc: "./assets/chasers.svg" },
        "followers": { label: "Followers", color: "#FB6514CC", imageSrc: "./assets/followers.svg" },
        "laggards": { label: "Laggards", color: "#4E5BA6CC", imageSrc: "./assets/laggards.svg" }
    };

    const selectedCategory = categoryData[categoryKey];
    if (!selectedCategory) {
        console.error(`Category "${categoryKey}" not found in categoryData.`);
        return;
    }

    // Update the category label and color
    const percentageLabel = document.querySelector(".percentage");
    percentageLabel.innerHTML = `<span style="color: black;">Your Category: </span> ${selectedCategory.label}`;
    percentageLabel.style.color = selectedCategory.color;

    // Update the category image
    const categoryImage = document.querySelector('.category-image');
    categoryImage.src = selectedCategory.imageSrc;
    categoryImage.alt = `${selectedCategory.label} Image`;

    console.log("Selected Category:", selectedCategory);

    // Fetch category-specific details from results.json
    fetch('./data/results.json')
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
        })
        .then(fullData => {
            console.log("Fetched Data from JSON:", fullData); // Debug: Log the fetched data

            const detailedCategory = fullData[categoryKey];
            if (!detailedCategory) {
                console.error(`Category details for "${categoryKey}" not found in results.json.`);
                return;
            }

            document.querySelector('.results-hero-top').insertAdjacentHTML('beforeend', `
                <div class="d-block category-summary">${detailedCategory.summary}</div>
            `);

            const resultsContent = document.querySelector('.results-content');
            resultsContent.innerHTML = `
                <h3>Your Total Score: ${totalScore}</h3>
                <h3>Next Steps:</h3>
                <div class="next-steps">
                    <ul>
                        ${Object.entries(detailedCategory.next_steps).map(([key, step]) => `<li class="result-content-p">${step}</li>`).join('')}
                    </ul>
                </div>
            `;
            console.log("Results Content Populated"); // Debugging statement
        })
        .catch(error => {
            console.error('Error fetching results.json:', error);
        });
});

</script>


    <!-- HubSpot Form Embed Script -->
    <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
    <script>
        hbspt.forms.create({
        portalId: "45094316",
        formId: "f166dc4e-ab4c-46bc-a18b-e9417b46a55c",
        target: "#book-wrapper",
        target: "#hubspot-form-container",
        locale: 'en',
        translations: {
            en: {
                required: "We can't move forward without this tidbit.",
                invalidEmailFormat: 'Oops, that email address seems a bit off.',
            },
        en: {
            required: "We can't move forward without this tidbit.",
            invalidEmailFormat: 'Oops, that email address seems a bit off.',
        },
        },
        onFormReady: function() {
            console.log("HubSpot form loaded");
            // Reapply styles to ensure they are not overridden
            $("body").addClass("book-wrapper");
        }
    });

    // Ensure HubSpot form renders correctly once document is ready
    jQuery(document).ready(function($) {
        $("body").addClass("book-wrapper");
    });
    </script>
    
</body>
</html>
